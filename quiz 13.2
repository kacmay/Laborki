#include <stdlib.h>
#include <stdio.h>
#include <string.h>


struct buildnig
{
    unsigned int  flats;
    float    value;
};

typedef struct building building_t;

void printBuilding(building_t* ptr)
{
    printf("number of flats: %i\n", ptr->flats);
    printf("value of the building: %10.2f\n", ptr->value);
}


void readBuilding(building_t* ptr)
{
    printf("Please enter the data for a new building.\n");
    printf("number of flats: ");
    scanf("%i",&ptr->flats);
    printf("value: ");
    scanf("%f",&ptr->value);
}


int main()
{
    int i;
    int dim = 0;
    do {
        printf("How many flats do you want to have? ");
        scanf("%i",&dim);
    } while(dim <= 0);

    building_t* myBuilding;
    myBuilding = (building_t*) malloc(dim*sizeof(building_t));
    if (myBuilding==NULL) {
        printf("Problem!\n");
        return EXIT_FAILURE;
    }

    for (i=0; i<dim; i++)
    {
        readBuilding(&myBuilding[i]);
    }

    printf("\n\n");
    printf("Number of flats and the total value:\n");
    for (i=0; i<dim; i++)
    {
        printBuilding(&myBuilding[i]);
    }

    float sum = 0.0;
    for (i=0; i<dim; i++)
    {
        sum += myBuilding[i].value;
    }
    printf("Cheapest building: %10.2f\n",sum);


    free(myBuilding);

    return EXIT_SUCCESS;
}

